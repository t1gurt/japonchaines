### **作業指示書：テキストファイルの整形とマークダウンへの変換**

**【目的】**
指定されたテキストファイル（`.txt`）を整形し、マークダウンファイル（`.md`）として保存する。

**【作業フロー】**
1.  **改行の挿入**: 元のテキストファイル内の全ての「。」を「。(改行)」に置換する。
2.  **マークダウンへの変換**: 改行処理済みのテキストを元に、見出しなどをマークダウン形式に整え、新しい `.md` ファイルとして保存する。

---

### **ステップ1：改行の挿入処理**

**【概要】**
対象ファイル内の置換対象文字の正確な個数を把握し、その情報を使って一括置換を行う2段階の手順で実行する。

**1-1. 置換対象文字の正確な出現回数の確認**
1.  `replace` ツールを使い、置換対象の文字（`。`）の出現回数を特定する。
2.  `file_path` に対象のファイルパスを指定する。
3.  `old_string` に置換したい文字 `。` を指定する。
4.  `new_string` に置換後の文字列 `。
` を指定する。
5.  `expected_replacements` に `1` を指定して、意図的にエラーを発生させる。
6.  実行結果のエラーメッセージから、`found XX occurrences` という部分を読み取り、正確な出現回数を把握する。

**【コマンド例：1-1】**
```python
print(default_api.replace(file_path="C:\path\to\your\file.txt", old_string="。", new_string="。\n", expected_replacements=1))
```

**1-2. 把握した回数で全件置換を実行**
1.  再度 `replace` ツールを使用する。
2.  ステップ1-1と同様に `file_path`, `old_string`, `new_string` を指定する。
3.  `expected_replacements` に、ステップ1-1のエラーメッセージで確認した**正確な出現回数**を指定する。
4.  コマンドを実行し、置換を完了させる。

**【コマンド例：1-2】**
```python
# ステップ1-1で "found 239 occurrences" と表示された場合
print(default_api.replace(file_path="C:\path\to\your\file.txt", old_string="。", new_string="。\n", expected_replacements=239))
```

---

### **ステップ2：マークダウンへの変換と別名保存**

**【概要】**
ステップ1で改行処理を施したテキストファイルの内容を読み込み、手動でマークダウン形式に整形した上で、新しい `.md` ファイルとして保存する。

**2-1. 改行済みテキストの読み込み**
1.  `read_file` ツールを使い、ステップ1で処理したファイルの内容を読み込む。

**【コマンド例：2-1】**
```python
print(default_api.read_file(absolute_path="C:\path\to\your\file.txt"))
```

**2-2. マークダウン形式での書き出し**
1.  `write_file` ツールを使用する。
2.  `file_path` に、新しいマークダウンファイルの名前（例：`C:\path\to\your\new_file.md`）を指定する。
3.  `content` に、ステップ2-1で読み込んだ内容を貼り付け、以下のように手動でマークダウンの書式を追加・編集する。
    *   見出しにしたい行の先頭に `#`、`##`、`###` を追記する。
    *   箇条書きにしたい部分を `-` や `*` で始める。
    *   その他、必要に応じて太字（`**text**`）や引用（`> text`）などの装飾を施す。

**【コマンド例：2-2】**
```python
# 読み込んだ内容を元に、マークダウンとして整形して書き出す
print(default_api.write_file(
    file_path="C:\path\to\your\new_file.md",
    content="""
# ここからマークダウン形式のコンテンツ

## セクション1

- 箇条書き1
- 箇条書き2

これは**重要**なパラグラフです。
"""
))
```

**【補足】**
この手順により、元のテキストファイルを保持しつつ、整形された新しいマークダウンファイルを作成することが可能です。